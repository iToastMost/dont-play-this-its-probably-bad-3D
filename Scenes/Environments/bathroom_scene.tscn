[gd_scene load_steps=26 format=3 uid="uid://cl2l2owbnqg6y"]

[ext_resource type="PackedScene" uid="uid://6i5rrowv0td" path="res://Scenes/FixedCamera.tscn" id="1_dnp50"]
[ext_resource type="Script" uid="uid://c6e3fratuayb5" path="res://Scripts/GameState/Zone.cs" id="1_t3iin"]
[ext_resource type="PackedScene" uid="uid://bj0fflqe1ib4u" path="res://Scenes/dialog_trigger.tscn" id="3_6cnf1"]
[ext_resource type="PackedScene" uid="uid://ds4udcpaocote" path="res://Scenes/Art/Models/wetfloorsign.tscn" id="11_2m0sy"]
[ext_resource type="PackedScene" uid="uid://dav2vbdovljdu" path="res://Art/Models/dude.glb" id="11_kc8aj"]
[ext_resource type="PackedScene" uid="uid://bfwranwv4r1lx" path="res://Scenes/Art/Models/door.tscn" id="12_dnp50"]
[ext_resource type="PackedScene" uid="uid://cwiq40ibrpkvo" path="res://Scenes/Art/Models/papertoweldisp.tscn" id="12_r27ve"]
[ext_resource type="PackedScene" uid="uid://547u57bascbx" path="res://Scenes/Art/Models/sink.tscn" id="12_we5m5"]
[ext_resource type="PackedScene" uid="uid://b86pqbiujl4gy" path="res://Scenes/Art/Models/garbage.tscn" id="15_2m0sy"]
[ext_resource type="PackedScene" uid="uid://b5haglc00b0re" path="res://Scenes/Art/Models/divider.tscn" id="16_dnp50"]
[ext_resource type="PackedScene" uid="uid://cg4i5opwmdjf7" path="res://Scenes/Art/Models/stall.tscn" id="16_r27ve"]
[ext_resource type="PackedScene" uid="uid://13fheahjts4m" path="res://Scenes/Art/Models/hand_dryer.tscn" id="16_rpe6t"]
[ext_resource type="PackedScene" uid="uid://cbk0n7ve4qfvf" path="res://Scenes/Art/Models/soap.tscn" id="16_t3iin"]
[ext_resource type="PackedScene" uid="uid://c0umsq8a383gt" path="res://Scenes/Art/Models/urinal.tscn" id="16_we5m5"]
[ext_resource type="PackedScene" uid="uid://d2ju4yvya24wv" path="res://Scenes/Art/Models/toilet.tscn" id="17_dnp50"]
[ext_resource type="PackedScene" uid="uid://cpj1q745qsqo0" path="res://Scenes/Art/Models/mirror.tscn" id="17_r27ve"]
[ext_resource type="PackedScene" uid="uid://bnixk3hbr15en" path="res://Scenes/Art/Models/stall_door.tscn" id="17_rpe6t"]
[ext_resource type="Material" uid="uid://da6g467h700ej" path="res://Art/Materials/bathroom_floor_tile.tres" id="17_t3iin"]
[ext_resource type="Material" uid="uid://cmx0vsufspqy7" path="res://Art/Materials/bathrom_walls.tres" id="18_dnp50"]
[ext_resource type="PackedScene" uid="uid://urqpvkpkkito" path="res://Scenes/Items/healing_herb.tscn" id="19_rpe6t"]

[sub_resource type="BoxShape3D" id="BoxShape3D_rpe6t"]
resource_local_to_scene = true
size = Vector3(0.46766663, 0.48828125, 0.8432617)

[sub_resource type="BoxShape3D" id="BoxShape3D_dnp50"]
resource_local_to_scene = true
size = Vector3(0.4420166, 0.48425293, 2.468811)

[sub_resource type="BoxShape3D" id="BoxShape3D_t3iin"]
resource_local_to_scene = true
size = Vector3(1.5345459, 0.45043945, 1.8093262)

[sub_resource type="PlaneMesh" id="PlaneMesh_h2y5n"]

[sub_resource type="PlaneMesh" id="PlaneMesh_rpe6t"]

[node name="BathroomScene" type="Node3D" groups=["Environments"]]
script = ExtResource("1_t3iin")
ZoneId = "STORE_MENS_BATHROOM"

[node name="Bathroom" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.11504, 1.46199, 3.46154)
use_collision = true
flip_faces = true
size = Vector3(2.78164, 2.9269, 5.52112)

[node name="Cameras" type="Node" parent="."]

[node name="FixedCamera" parent="Cameras" instance=ExtResource("1_dnp50")]
transform = Transform3D(-0.53463084, 0.70433444, -0.4669933, 0, 0.5525988, 0.8334474, 0.8450857, 0.44558668, -0.29543635, -8.131366, 2.6866333, 0.96426225)

[node name="Area3D" parent="Cameras/FixedCamera" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.697288, 0, 1.0720234)

[node name="CollisionShape3D" parent="Cameras/FixedCamera/Area3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.11502838, 0.25585938, 0.07836914)
shape = SubResource("BoxShape3D_rpe6t")

[node name="FixedCamera2" parent="Cameras" instance=ExtResource("1_dnp50")]
transform = Transform3D(0.9996996, -0.004236736, 0.024139538, 0, 0.984945, 0.17286792, -0.024508514, -0.172816, 0.9846491, -6.82455, 1.7374, 6.34722)

[node name="Area3D" parent="Cameras/FixedCamera2" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.8681827, 0, 1.6181378)

[node name="CollisionShape3D" parent="Cameras/FixedCamera2/Area3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2789917, 0.25787354, 0.5449524)
shape = SubResource("BoxShape3D_dnp50")

[node name="FixedCamera3" parent="Cameras" instance=ExtResource("1_dnp50")]
transform = Transform3D(0.8230112, 0.331502, -0.46125802, 0, 0.81203806, 0.58360445, 0.5680251, -0.480313, 0.6683164, -8.06626, 2.76841, 6.19262)

[node name="Area3D" parent="Cameras/FixedCamera3" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.834225, 0, 4.5061626)

[node name="CollisionShape3D" parent="Cameras/FixedCamera3/Area3D" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.09698486, 0.27478027, 0.5340576)
shape = SubResource("BoxShape3D_t3iin")

[node name="DialogTriggers" type="Node" parent="."]

[node name="DialogTrigger" parent="DialogTriggers" instance=ExtResource("3_6cnf1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.88088, 0.218693, 2.1189)
visible = false
dialogText = "And you're not even going to flush? Gross."

[node name="DialogTrigger2" parent="DialogTriggers" instance=ExtResource("3_6cnf1")]
transform = Transform3D(0.0170685, 0, -0.999854, 0, 1, 0, 0.999854, 0, 0.0170685, -6.04048, 0.267103, 5.65017)
visible = false
dialogText = "Not even washing your hands either? What is wrong with you?"

[node name="DialogTrigger3" parent="DialogTriggers" instance=ExtResource("3_6cnf1")]
transform = Transform3D(-0.0230363, 0, -0.999735, 0, 1, 0, 0.999735, 0, -0.0230363, -7.7515, 0.192712, 1.10162)
visible = false
dialogText = "Are you just playing BiPod games in there again? I'm going to tell Terry this time."

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.0689033, 0.997623, 0, -0.997623, -0.0689033, -3.34178, 19.4172, -1.68052)
visible = false
light_energy = 1.4

[node name="Environment Models" type="Node3D" parent="."]

[node name="dude" parent="Environment Models" instance=ExtResource("11_kc8aj")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.07609, 0.00930589, 1.13198)
visible = false

[node name="wetfloorsign" parent="Environment Models" instance=ExtResource("11_2m0sy")]
transform = Transform3D(-0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, -0.866025, -6.17138, 0, 3.99018)

[node name="sink" parent="Environment Models" instance=ExtResource("12_we5m5")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -8.236, 0, 5.793)

[node name="sink2" parent="Environment Models" instance=ExtResource("12_we5m5")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -8.236, 0, 4.9541)

[node name="sink3" parent="Environment Models" instance=ExtResource("12_we5m5")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -8.236, 0, 4.12156)

[node name="papertoweldisp" parent="Environment Models" instance=ExtResource("12_r27ve")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.75004, 1.3059143, 4.58948)

[node name="toilet" parent="Environment Models" instance=ExtResource("17_dnp50")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -8.05539, 0, 1.1432)

[node name="stall" parent="Environment Models" instance=ExtResource("16_r27ve")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.22818, 0, 3.67801)

[node name="stall_door" parent="Environment Models/stall" instance=ExtResource("17_rpe6t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.948738, 0, -2.57492e-05)

[node name="stall2" parent="Environment Models" instance=ExtResource("16_r27ve")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.22818, 0, 2.67099)

[node name="stall_door2" parent="Environment Models/stall2" instance=ExtResource("17_rpe6t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.948738, 0, -2.57492e-05)

[node name="stall3" parent="Environment Models" instance=ExtResource("16_r27ve")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.22818, 0, 1.67004)

[node name="stall_door3" parent="Environment Models/stall3" instance=ExtResource("17_rpe6t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.948738, 0, -2.57492e-05)
visible = false
collision_layer = 0
collision_mask = 0

[node name="garbage" parent="Environment Models" instance=ExtResource("15_2m0sy")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.90889, 0, 4.60311)

[node name="urinal1" parent="Environment Models" instance=ExtResource("16_we5m5")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.71845, 0.234797, 1.13232)

[node name="urinal2" parent="Environment Models" instance=ExtResource("16_we5m5")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.71845, 0.234797, 2.05111)

[node name="urinal3" parent="Environment Models" instance=ExtResource("16_we5m5")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.71845, 0.234797, 3.0529)

[node name="divider" parent="Environment Models" instance=ExtResource("16_dnp50")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.0202, 0.306231, 1.56439)

[node name="divider2" parent="Environment Models" instance=ExtResource("16_dnp50")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.0202, 0.306231, 2.51969)

[node name="divider3" parent="Environment Models" instance=ExtResource("16_dnp50")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -6.0202, 0.306231, 3.55163)

[node name="door" parent="Environment Models" instance=ExtResource("12_dnp50")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -5.75813, -0.00145996, 5.67178)
_environmentToLoad = "res://Scenes/Environments/showroom_floor_scene.tscn"

[node name="handdryer" parent="Environment Models" instance=ExtResource("16_rpe6t")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -6.80609, 1.00206, 6.22056)

[node name="soap" parent="Environment Models" instance=ExtResource("16_t3iin")]
transform = Transform3D(0.258819, 0, 0.965926, 0, 1, 0, -0.965926, 0, 0.258819, -8.37725, 0.842924, 5.2802)

[node name="soap2" parent="Environment Models" instance=ExtResource("16_t3iin")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -8.37725, 0.842924, 4.50591)

[node name="mirror" parent="Environment Models" instance=ExtResource("17_r27ve")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -8.42785, 1.17748, 5.85501)

[node name="mirror2" parent="Environment Models" instance=ExtResource("17_r27ve")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -8.42785, 1.17748, 4.94657)

[node name="mirror3" parent="Environment Models" instance=ExtResource("17_r27ve")]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -8.42785, 1.17748, 4.09684)

[node name="SpotLight3D" type="SpotLight3D" parent="." groups=["StoreLights"]]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -7, 4.21949, 3.62634)
shadow_enabled = true
shadow_blur = 1.6
spot_range = 6.256
spot_attenuation = 0.35
spot_angle = 43.81

[node name="ReflectionProbe" type="ReflectionProbe" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.164297, 1.4997756, 3.4622383)
update_mode = 1
intensity = 0.55
blend_distance = 0.0
size = Vector3(4.845154, 4.848877, 7.5306396)
origin_offset = Vector3(-1.39, -0.08, 1.46)
box_projection = true
interior = true

[node name="BathroomFloor" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.3850458, 0, 0, 0, 1, 0, 0, 0, -2.7661445, -7.1002083, 0.009940386, 3.4689424)
mesh = SubResource("PlaneMesh_h2y5n")
surface_material_override/0 = ExtResource("17_t3iin")

[node name="Wall" type="MeshInstance3D" parent="."]
transform = Transform3D(1.4170787, 0, 0, 0, -4.371139e-08, -1.4681144, 0, 1, -6.4173314e-08, -7.0957766, 1.4710621, 0.70600206)
material_override = ExtResource("18_dnp50")
mesh = SubResource("PlaneMesh_rpe6t")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(-6.194248e-08, -1, 0, -6.194248e-08, 0, -1.4681144, 1.4170787, -4.371139e-08, -6.4173314e-08, -5.730249, 1.471062, 2.115072)
material_override = ExtResource("18_dnp50")
mesh = SubResource("PlaneMesh_rpe6t")

[node name="Wall3" type="MeshInstance3D" parent="."]
transform = Transform3D(-6.194248e-08, -1, 0, -6.194248e-08, 0, -1.4681144, 1.4170787, -4.371139e-08, -6.4173314e-08, -5.730249, 1.4710618, 4.9291735)
material_override = ExtResource("18_dnp50")
mesh = SubResource("PlaneMesh_rpe6t")

[node name="Wall5" type="MeshInstance3D" parent="."]
transform = Transform3D(-6.194248e-08, 1, 0, 6.1942465e-08, 0, -1.4681144, -1.4170787, -4.371139e-08, -6.4173314e-08, -8.446331, 1.4710618, 4.9291735)
material_override = ExtResource("18_dnp50")
mesh = SubResource("PlaneMesh_rpe6t")

[node name="Wall6" type="MeshInstance3D" parent="."]
transform = Transform3D(-6.194248e-08, 1, 0, 6.1942465e-08, 0, -1.4681144, -1.4170787, -4.371139e-08, -6.4173314e-08, -8.446331, 1.471062, 2.098985)
material_override = ExtResource("18_dnp50")
mesh = SubResource("PlaneMesh_rpe6t")

[node name="Wall4" type="MeshInstance3D" parent="."]
transform = Transform3D(-1.4170787, -8.742278e-08, 0, -5.4151833e-15, 4.371139e-08, -1.4681144, 1.2388496e-07, -1, -6.4173314e-08, -7.0957766, 1.4710618, 6.221699)
material_override = ExtResource("18_dnp50")
mesh = SubResource("PlaneMesh_rpe6t")

[node name="Spawnpoints" type="Node" parent="."]

[node name="FromShowroomFloorScene" type="Marker3D" parent="Spawnpoints"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -6.059, 0.835575, 5.688)

[node name="FromBasement" type="Marker3D" parent="Spawnpoints"]
transform = Transform3D(1.3113416e-07, 0, -1, 0, 1, 0, 1, 0, 1.3113416e-07, -6.5745115, 0.835575, 1.4249327)

[node name="InitialPlayerSpawn" type="Marker3D" parent="Spawnpoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.7143955, 0.9072315, 1.1508105)

[node name="HealingHerb" parent="." instance=ExtResource("19_rpe6t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.040017, 1.0151529, 4.5594387)
ZoneId = "STORE_MENS_BATHROOM"
ItemId = "HEALING_HERB01"

[node name="door" parent="." instance=ExtResource("12_dnp50")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.545238, -0.0046498775, 0.7314651)
_environmentToLoad = "res://Scenes/Environments/basement.tscn"

[editable path="Cameras/FixedCamera"]
[editable path="Cameras/FixedCamera2"]
[editable path="Cameras/FixedCamera3"]
